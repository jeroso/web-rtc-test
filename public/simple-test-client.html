<!--
// Muaz Khan         - www.MuazKhan.com
// MIT License       - www.WebRTC-Experiment.com/licence
// Experiments       - github.com/muaz-khan/WebRTC-Experiment
-->

<html lang="en">
    <head>
        <title>코리아유니크베뉴 프리젠테이션모드</title>
        <meta name="description" content="MultiRTC is a WebRTC skype-like application that allows all features as skype provides E.g. text conversation, file sharing, enable/disable screen, enable/disable webcam or microphone etc. It provides additional features like auto-text translation in about 41 languages. It also provides customization of each feature so that you can set each value yourself e.g. chunk-size, intervals, etc." />
        <meta name="keywords" content="MultiRTC,RTCMultiConnection,WebRTC,Demos,Experiments,Muaz Khan,WebRTC and Skype,Skype like Demo" />
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
        <link rel="author" type="text/html" href="https://plus.google.com/+MuazKhan">
        <meta name="author" content="Muaz Khan">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        
        <!-- ui-stylesheet -->
        <!-- <link href="style.css" rel="stylesheet">
        <link href="scrol-bars.css" rel="stylesheet"> -->
        
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">
        <style>
            .vr-contents{
                height: 100vh;
            }
            .controller{
                position:absolute; top:0px; left:0px; width:100%;
                visibility: hidden;
                display: none;
            }
            .enter-name{
                position:absolute; 
                top:0px; 
                left:0px; 
                width: 100vw;
                height: 100vh;
                background-color: black;
                z-index: 100;
                color: white;
                vertical-align: middle;
                text-align: center;
            }
        </style>
        <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js" integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV" crossorigin="anonymous"></script>

        <script src="lucid-web-vr/lucid-vr360-core.js"></script>
        <script src="pano-player.js"></script>
        <!-- www.RTCMultiConnection.org/changes-log/ -->
        <script src="RTCMultiConnection.js"> </script>
        <script src="FileBufferReader.js"> </script>
		<script src="firebase.js"> </script>
        <script src="linkify.js"> </script>
    </head>
    <body onload="javascript:bodyReady()" scroll="no">
        <div class="enter-name" id="enter-name">
            <div style="width:100%; margin-top: 25vh; margin-left: 0px; margin-right: 0px; margin-bottom: 0px;">
               
                <div class="my-2 text-center"><img src="/images/korea_unique_venue_bi.png" class="img-fluid" alt="Responsive image"></div>
                <div class="row" style="margin: 0px;">
                    <div class="col-4"></div>
                    <div class="col-4 input-group">
                        <input type="text" class="form-control" id="your-name" name="your-name" placeholder="이름을 입력하세요" aria-label="이름을 입력하세요" aria-describedby="button-addon2">
                        <button class="btn btn-secondary" type="button" id="start-session">입장</button>
                    </div>
                    <div class="col-4"></div>
                </div>
                <div class="my-2 text-center"><b>이름을 입력하고 입장하셔서 함께 코리아유니크베뉴를 둘러보세요</b></div>
            </div>
        </div>
        <div class="controller" >
            <table class="table">
                <tbody>
                    <tr>
                        <td>
                            <input type="text" class="form-control" id="room-name">
                        </td>
                        <td>
                            <div class="input-group mb-3">
                                <input type="text" class="form-control" id="your-name" placeholder="Recipient's username" aria-label="Recipient's username" aria-describedby="button-addon2">
                                <div class="input-group-append">
                                <button class="btn btn-outline-secondary" type="button" id="continue">JOIN ROOM</button>
                                </div>
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
            <div class="container" id="log-area">
                <!-- Content here -->
            </div>
        </div>
        <div class="vr-contents">
            <iframe id="vr360_player_area"
                    scrolling="no"
                    style="height:100vh; background-position:center 0; background-size:cover; width:100vw;"
                    src="https://dev-test.ldfactory.com/index.php/uniquebureau"
                    allowfullscreen="true" allow="autoplay; fullscreen" frameBorder="0"></iframe>
        </div>
        <!-- User Interface -->
        
        <script src="ui.main.simple.js"> </script>
        <script src="ui.peer-connection.js"> </script>
        <!-- <script src="ui.share-files.js"> </script>
        <script src="ui.users-list.js"> </script>
        <script src="ui.settings.js"> </script> -->
        <script>
            $('#select-scene-1').click(function(){
                $('#vr360_player_area').attr('src', 'https://k-mice.visitkorea.or.kr/vr/scenes/1573.kto?lang=ko');
                rtcMultiConnection.send('scene1');
            });
            $('#select-scene-2').click(function(){
                $('#vr360_player_area').attr('src', 'https://k-mice.visitkorea.or.kr/vr/scenes/1573.kto?lang=ko');
                rtcMultiConnection.send('scene2');
            });

            $('#start-session').click(function(){
                $('#enter-name').hide();
                startSession();
            });

            function bodyReady(){
                
            }  

            function startSession(){
                if($.urlParam('id') != false){
                    $('#room-name').val($.urlParam('id'));
                }
                console.log('your-name' + $('#your-name').val());
                joinroom('guest');

                setInterval(function(){
                    var iframe = document.getElementById('vr360_player_area').contentWindow; 
                    iframe.postMessage({ parentData : 'getLookAt'},'*'); 
                }, 100);
            }

            window.addEventListener('message',function(e){
               
                rtcMultiConnection.send('clientLookAt||' + JSON.stringify(e.data.currentLookAt));
            });
        </script>
    </body>
</html>
